<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://imsun.github.io">





    <link rel="dns-prefetch" href="https://fonts.googleapis.com">





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            关于docker for mac 磁盘性能问题 | 
        
        lightWey
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/w-logo.png">
    <link rel="icon" href="/img/w-logo.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content="this is lightWey">
    <meta name="keywords" content=",PHP,Docker,Docker-sync">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body {
        background-color: ;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text {
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="lightWey">
    <meta name="msapplication-starturl" content="https://lightwey.github.io/2019/10/14/关于docker for mac 磁盘性能问题/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="lightWey">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://lightwey.github.io/2019/10/14/关于docker for mac 磁盘性能问题/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="关于docker for mac 磁盘性能问题 | lightWey">
    <meta property="og:image" content="/img/w-logo.png">
    <meta property="og:description" content="this is lightWey">
    <meta property="og:article:tag" content="PHP"> <meta property="og:article:tag" content="Docker"> <meta property="og:article:tag" content="Docker-sync"> 

    
        <meta property="article:published_time" content="Mon Oct 14 2019 15:37:25 GMT+0800">
        <meta property="article:modified_time" content="Mon Oct 14 2019 15:37:25 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://lightwey.github.io/2019/10/14/关于docker for mac 磁盘性能问题/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://lightwey.github.io/2019/10/14/关于docker for mac 磁盘性能问题/index.html",
    "headline": "关于docker for mac 磁盘性能问题",
    "datePublished": "Mon Oct 14 2019 15:37:25 GMT+0800",
    "dateModified": "Mon Oct 14 2019 15:37:25 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "lightWey",
        "image": {
            "@type": "ImageObject",
            "url": "/img/cxk-avatar.png"
        },
        "description": "Hi, nice to meet you"
    },
    "publisher": {
        "@type": "Organization",
        "name": "lightWey",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/w-logo.png"
        }
    },
    "keywords": ",PHP,Docker,Docker-sync",
    "description": "this is lightWey",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#问题起因"><span class="post-toc-number">1.</span> <span class="post-toc-text">问题起因</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#解决方案"><span class="post-toc-number">2.</span> <span class="post-toc-text">解决方案</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#docker-sync"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">docker-sync</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#安装"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">安装</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#配置"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">配置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#启动"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">启动</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#项目容器绑定卷"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">项目容器绑定卷</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#docker自带的挂载卷缓存"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">docker自带的挂载卷缓存</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">使用</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#性能对比"><span class="post-toc-number">3.</span> <span class="post-toc-text">性能对比</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#宿主机性能"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">宿主机性能</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#写性能"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">写性能</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#读性能"><span class="post-toc-number">3.1.2.</span> <span class="post-toc-text">读性能</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#不做任何优化的容器"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">不做任何优化的容器</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#写性能-1"><span class="post-toc-number">3.2.1.</span> <span class="post-toc-text">写性能</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#读性能-1"><span class="post-toc-number">3.2.2.</span> <span class="post-toc-text">读性能</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用容器的挂载卷时候的缓存"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">使用容器的挂载卷时候的缓存</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#写性能-2"><span class="post-toc-number">3.3.1.</span> <span class="post-toc-text">写性能</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#读性能-2"><span class="post-toc-number">3.3.2.</span> <span class="post-toc-text">读性能</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用docker-sync的方式"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">使用docker-sync的方式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#写性能-3"><span class="post-toc-number">3.4.1.</span> <span class="post-toc-text">写性能</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#读性能-3"><span class="post-toc-number">3.4.2.</span> <span class="post-toc-text">读性能</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#两种优化方式的总结"><span class="post-toc-number">3.4.3.</span> <span class="post-toc-text">两种优化方式的总结</span></a></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                关于docker for mac 磁盘性能问题
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/cxk-avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>lightWey</strong>
        <span>10月 14, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAEOCAAAAABd2qZ5AAADn0lEQVR42u3aQW7DMAwEwPz/0+m1QBB5SUquC4xPRRo71viwJsXX2/HreCHAgQMHDhw4cODAgePBHK/4+Dzr2yef//38req567sdrQUHDhw4cBzguIii4Dv5YnKm9RW+cVTvEAcOHDhwnONYB9g6YpMwroKuozQ/9+L+ceDAgQPHIznWhVayvDVrToADBw4cOP4jR++TpJDrQePAgQMHjmdyVMuq6pZPTpA3/v64V4oDBw4cOMYDDc//+9b5Dhw4cODA8cEx3xbKy7DeNlIS6qMV4cCBAweOrRx5UOVDDHkJ1wvLvPyLfh0HDhw4cGzlyAcL1mflIV0dWeg9tjyYceDAgQPHOY6kVMujbtcoQ3VwoVrU4cCBAweOExzJYpKzJs3B6iKrRebXh4EDBw4cOLZyVLeO5vGcX2e+4TTqleLAgQMHjhZHr9mXh2LyeU4zH7YojMrhwIEDB44WxyRok42rfBAh36DKH08CigMHDhw49nLkC84LsGRJ1eGDvPlYfY3AgQMHDhwnOHplVd7aK8Re0P7Lxyaiq+HAgQMHjgMc1VHmXmTuGsjLy8hoiwsHDhw4cGzl2DtsnTfv8oCcPLyo1MSBAwcOHFs5Jhs/+SbTrrGGamEZnYUDBw4cOA5wVDeK5ltWeUE4H7m4CGAcOHDgwHELRy9oe5E8L/9GoY4DBw4cOLZyVBfTQ8wpJ83K3ksADhw4cOC4h6NXeq2Xl1ynOqAwH4zAgQMHDhx7OXoNtTws8+bdpMzrFXU4cODAgeMERzXekmJv0rzLrzwZrcCBAwcOHOc45rFXbfPl7bx5uEavFDhw4MCB4wDHidZeddtpV2AnYYwDBw4cOM5x5BftlVv596t30otqHDhw4MBxD0dS/EwG2iZjE3kTMH9FwIEDBw4c93AkEfiOj942Um+zqjr6gAMHDhw47uHolWrV1l7eOuw1Cg++d+DAgQMHjhZHvnmTQyRDCYUFbBqzwIEDBw4cJziqR7V8qjYfq/9Nvn9RIuLAgQMHjq0c1aDKbzEJ6eqmVF5wFoo6HDhw4MBxgGNyE3lY5kMM1U8mwYwDBw4cOM5x9Fp+1cZcb3nVIq2wcYUDBw4cOB7DUW0mVqO6+hiSIYxCCYcDBw4cOG7kqP5k3rzLS7Ic6OKucODAgQPHMY48LKvDBGuUfMG9Xzm47YQDBw4cOMYDDcmYQkLQi8n84eVlJw4cOHDg2MvhwIEDBw4cOHDgwIEDx8OOH7aEcqvayfnmAAAAAElFTkSuQmCC">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Docker/">Docker</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Docker-sync/">Docker-sync</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/PHP/">PHP</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=关于docker for mac 磁盘性能问题&url=https://lightwey.github.io/2019/10/14/关于docker for mac 磁盘性能问题/index.html&pic=https://lightwey.github.io/img/w-logo.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=关于docker for mac 磁盘性能问题&url=https://lightwey.github.io/2019/10/14/关于docker for mac 磁盘性能问题/index.html&via=lightWey" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://lightwey.github.io/2019/10/14/关于docker for mac 磁盘性能问题/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://lightwey.github.io/2019/10/14/关于docker for mac 磁盘性能问题/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="问题起因"><a href="#问题起因" class="headerlink" title="问题起因"></a>问题起因</h2><p>由于<code>MAC OS</code>和<code>Linux</code>在文件系统上的差异[^文件系统]上的差别，和<code>MAC OS</code>系统本身版本导致的文件系统差异，<code>Docker for mac</code>专门提供了<code>File system sharing</code>，简称<code>osxfs</code>[^osxfs]，<br><code>osxfs</code>是<code>Docker for Mac</code>专用的新共享文件系统解决方案。 <code>osxfs</code>提供了接近本机的用户体验，可将安装的<code>macOS</code>文件系统树绑定到<code>Docker</code>容器中。为此，它<code>osxfs</code>具有许多独特的功能以及与传统<code>Linux</code>文件系统的不同之处。</p>
<p>由于文件系统API非常广泛（20-40种消息类型），具有许多复杂的语义，涉及磁盘状态，内存中的缓存状态以及多个进程的并发访问。此外，<code>osxfs</code>集成了<code>macOS</code>的<code>FSEvents API</code>和<code>Linux</code>的<code>inotifyAPI</code>之间的映射，该映射是在文件系统本身内部实现的，从而使事情进一步复杂化，尤其是缓存行为。</p>
<p>可以理解成<code>osxfs</code>是一个翻译层，它对<code>mac OS</code>和<code>Linux</code>做了文件系统的映射。当然，这也就是问题的原因所在了。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>更具<code>docker</code>官方文档里面的介绍,由于<code>osxfs</code>作为的是解释层，那么在大量的IO的时候，就容易产生性能的瓶颈，因为解释层是一直要保持两个文件系统之间的一致性的，所以解决方案就可以从这里来着手。目前市面上有两套解决方案：</p>
<h3 id="docker-sync"><a href="#docker-sync" class="headerlink" title="docker-sync"></a>docker-sync</h3><p><code>docker-sync</code>这边又提出来了一个概念，叫<code>native_osx</code>简称<code>OSX</code>,它其实是两个概念的组合，即<code>osxfs</code>和<code>Unison</code>的组合，具体的就是通过<code>osxfs</code>来同步宿主机和容器的双向修改，也就是<code>host_sync</code>，然后通过<code>Unison</code>来同步<code>host_sync</code>和<code>app_sync</code>，<code>app_sync</code>作为命名的卷安装公开，然后其他的容器就可以绑定这个卷了。由于在容器中使用<code>Unison</code>，基于<code>inotify-event</code>的观察程序的作用，<code>Unison</code>的性能可以达到很好的程度，具体原理如下[^docker-sync]</p>
<p><img src="https://docker-sync.readthedocs.io/en/latest/_images/native_osx.png" alt="图片1"></p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install docker-sync</span><br><span class="line">brew install fswatch</span><br><span class="line">brew install unison</span><br><span class="line">brew install eugenmayer/dockersync/unox //安装这个步骤会安装python，大概率会出现权限问题的报错，可以根据提示，给予对应的权限，和建立相关文件夹即可</span><br></pre></td></tr></table></figure>

<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>在项目根目录下面建立<code>docker-sync.yml</code>文件，然后按照下面方式填写</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版本</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">'2'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">syncs:</span></span><br><span class="line">  <span class="comment"># 同步容器名称</span></span><br><span class="line"><span class="attr">  sync-folder:</span></span><br><span class="line">    <span class="comment"># 同步路径选择</span></span><br><span class="line"><span class="attr">    src:</span> <span class="string">'.'</span></span><br><span class="line">    <span class="comment"># 同步方式选择</span></span><br><span class="line"><span class="attr">    sync_strategy:</span> <span class="string">'unison'</span></span><br><span class="line">    <span class="comment"># 同步时的用户ID，不指定的话为root</span></span><br><span class="line"><span class="attr">    sync_userid:</span> <span class="string">'1000'</span></span><br><span class="line">    <span class="comment"># 需要过滤的文件</span></span><br><span class="line"><span class="attr">    sync_excludes:</span> <span class="string">['vendor/bundle/'，</span> <span class="string">'node_modules'</span><span class="string">，</span> <span class="string">'tmp'</span><span class="string">]</span></span><br></pre></td></tr></table></figure>

<h4 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h4><p>在项目根目录下面执行以下命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-sync start</span><br></pre></td></tr></table></figure>

<p>执行过程中会有一些状态信息打印出来，一般不出错，可以不用管，执行完毕之后，就生成了一个额外的容器，执行<code>docker ps</code>可以查看到容器，或者执行<code>docker-sync list</code>也能看到</p>
<h4 id="项目容器绑定卷"><a href="#项目容器绑定卷" class="headerlink" title="项目容器绑定卷"></a>项目容器绑定卷</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80:80 -v sync-folder:/web/httpd/<span class="built_in">test</span> nginx</span><br></pre></td></tr></table></figure>

<p><code>sync-folder</code>就是我们刚刚启动的共享文件的容器，执行<code>docker run</code>命令的时候，只需要注意<code>-v 共享容器名称:项目容器目录</code>就可以了</p>
<h3 id="docker自带的挂载卷缓存"><a href="#docker自带的挂载卷缓存" class="headerlink" title="docker自带的挂载卷缓存"></a>docker自带的挂载卷缓存</h3><p>由于很多时候，容器与主机之间不需要完美的一致性。 特别是，在许多情况下，不需要在容器中执行的写入立即反映在主机上。例如，尽管交互式开发要求对主机上的绑定安装目录的写操作立即在容器内生成文件系统事件，但无需进行构建容器内构件的写操作以立即反映在主机文件系统上。区分这两种情况可以显着提高性能。</p>
<p><code>docker</code> 给我们提供了三个选项</p>
<ol>
<li><code>consistent</code> 完全一致性（默认项）</li>
<li><code>cached</code> 宿主机的视图具有权威性（允许延迟，直到主机上的更新出现在容器中）</li>
<li><code>delegated</code> 容器的视图具有权威性（允许延迟，直到容器上的更新出现在主机中）</li>
</ol>
<p>我们可以看出端倪，实际上这几个选项就是让我们选择通过什么样的方式降低一致性的标准，从而来提高性能，因此我们可以简单归纳一下，<code>cached</code>的使用场景大概是读多写少的情况，<code>delegated</code>的使用场景是写多读少。</p>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>因为是<code>docker</code>已经内置的功能，所以我们只需要在挂载卷的时候，后面携带上参数即可，比如我有个读取比较频繁的项目，启动命令如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80:80 -v ~/workspace/<span class="built_in">test</span>:/web/httpd/<span class="built_in">test</span>: cached nginx</span><br></pre></td></tr></table></figure>

<h2 id="性能对比"><a href="#性能对比" class="headerlink" title="性能对比"></a>性能对比</h2><p>以我现在的一个<code>laravel</code>项目为例，整个项目大小大概是<code>1.2 G</code></p>
<h3 id="宿主机性能"><a href="#宿主机性能" class="headerlink" title="宿主机性能"></a>宿主机性能</h3><p>我们先直接在宿主机的项目文件下测试下性能</p>
<h4 id="写性能"><a href="#写性能" class="headerlink" title="写性能"></a>写性能</h4><p><img src="https://dev.tencent.com/u/lightWay/p/notebook/git/raw/master/imageHost/2019/10/01.png" alt="宿主机IO写"></p>
<p>大概是<code>611 MB/s</code></p>
<h4 id="读性能"><a href="#读性能" class="headerlink" title="读性能"></a>读性能</h4><p><img src="https://dev.tencent.com/u/lightWay/p/notebook/git/raw/master/imageHost/2019/10/02.png" alt="宿主机IO读"></p>
<p>大概是<code>379 MB/s</code></p>
<h3 id="不做任何优化的容器"><a href="#不做任何优化的容器" class="headerlink" title="不做任何优化的容器"></a>不做任何优化的容器</h3><h4 id="写性能-1"><a href="#写性能-1" class="headerlink" title="写性能"></a>写性能</h4><p><img src="https://dev.tencent.com/u/lightWay/p/notebook/git/raw/master/imageHost/2019/10/03.png" alt="容器IO写"></p>
<h4 id="读性能-1"><a href="#读性能-1" class="headerlink" title="读性能"></a>读性能</h4><p><img src="https://dev.tencent.com/u/lightWay/p/notebook/git/raw/master/imageHost/2019/10/04.png" alt="容器IO写"></p>
<h3 id="使用容器的挂载卷时候的缓存"><a href="#使用容器的挂载卷时候的缓存" class="headerlink" title="使用容器的挂载卷时候的缓存"></a>使用容器的挂载卷时候的缓存</h3><h4 id="写性能-2"><a href="#写性能-2" class="headerlink" title="写性能"></a>写性能</h4><p><img src="https://dev.tencent.com/u/lightWay/p/notebook/git/raw/master/imageHost/2019/10/05.png" alt="容器IO写"></p>
<h4 id="读性能-2"><a href="#读性能-2" class="headerlink" title="读性能"></a>读性能</h4><p><img src="https://dev.tencent.com/u/lightWay/p/notebook/git/raw/master/imageHost/2019/10/06.png" alt="容器IO写"></p>
<h3 id="使用docker-sync的方式"><a href="#使用docker-sync的方式" class="headerlink" title="使用docker-sync的方式"></a>使用<code>docker-sync</code>的方式</h3><h4 id="写性能-3"><a href="#写性能-3" class="headerlink" title="写性能"></a>写性能</h4><p><img src="https://dev.tencent.com/u/lightWay/p/notebook/git/raw/master/imageHost/2019/10/08.png" alt="容器IO写"></p>
<h4 id="读性能-3"><a href="#读性能-3" class="headerlink" title="读性能"></a>读性能</h4><p><img src="https://dev.tencent.com/u/lightWay/p/notebook/git/raw/master/imageHost/2019/10/07.png" alt="容器IO写"></p>
<h4 id="两种优化方式的总结"><a href="#两种优化方式的总结" class="headerlink" title="两种优化方式的总结"></a>两种优化方式的总结</h4><p>当然，由于很多物理因素的原因，测试结果可能没有想象中精准，但是仍然可以作为一种参考，我奇怪的是，为啥优化后的容器，读取速度竟然比宿主机还快，不得其解啊。</p>
<p>大概可以看出，性能最好的应该是<code>docker-sync</code>方式，无论读写性能，都很强大，但是该方式比较麻烦，需要安装大量的工具，和配置，适合比较在意性能，但是不太怕麻烦的童鞋</p>
<p>其次是<code>docker</code>自带的，挂载卷时候配置缓存参数的方式，当然这种方式有针对读和针对写的方式，我这里只测试了针对读的方式，写入性能和不做优化的容器相比，确实鲜有提升，但是读取性能确实高了不少，这种方式相对来说比较简单，只需要一个配置参数即可，身世来源也正，毕竟官方集成，而且官方还在持续优化中，相对来说比较推荐这种方式的</p>
<p>[^文件系统]: 参考<a href="https://zhuanlan.zhihu.com/p/40187660" target="_blank" rel="noopener">macOS 和 Linux 的内核有什么区别</a><br>[^osxfs]: 参考<a href="https://docs.docker.com/docker-for-mac/osxfs/#performance-issues-solutions-and-roadmap" target="_blank" rel="noopener">File system sharing</a><br>[^docker-sync]: 参考<a href="https://docker-sync.readthedocs.io/en/latest/advanced/sync-strategies.html" target="_blank" rel="noopener">Sync strategies</a></p>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 gitcoment -->
<div id="gitment-comment">
    <!-- Gitment 评论框 -->
<div id="container"></div>
</div>
<style>
    #gitment-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="/js/gitment.min.js"></script>
<script>
    var gitment = new Gitment({
        id: decodeURI(location.pathname), // 可选。默认为 location.href
        owner: 'lightWey',
        repo: 'comment_repository',
        oauth: {
            client_id: '9e273a6eca84479a7c25',
            client_secret: 'cf38aa5ecee3ce253786f0d26346341440353ca0',
        },
    })
    gitment.render('container')
</script>


                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2019/08/02/%E9%80%9A%E4%BF%97%E8%A7%A3%E9%87%8ACRC/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/cxk-avatar.png" alt="lightWey's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        lightWay.zhi@gmailcom
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">6</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/工具/">工具<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/工具/Docker/">Docker<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/工具/docker/">docker<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/工具/命令行/">命令行<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/工具/抓包/">抓包<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/操作系统/">操作系统<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/算法/">算法<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/算法/PHP/">PHP<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/算法/PHP/冒泡排序/">冒泡排序<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/系统/">系统<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/设计模式/">设计模式<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/设计模式/控制反转/">控制反转<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/语言/">语言<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/categories/语言/PHP/">PHP<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/语言/javaScript/">javaScript<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/语言/正则表达式/">正则表达式<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">20</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;lightWey
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- Gitment -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->

<script type="text/ls-javascript" id="Bing-Background-script">
    queue.offer(function(){
        $('body').attr('data-original', 'https://api.i-meto.com/bing?color=white');
    });
</script>


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 0000;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
